<!--
  Generated template for the FilmesPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>

    <!-- Altera o título da página -->
    <ion-title>Filmes</ion-title>

  </ion-navbar>

</ion-header>

<!-- Altera o conteúdo da página -->
<ion-content padding>

  <!-- Elemento que aparece quando a página está sendo atualizada. -->
  <ion-refresher (ionRefresh)="doRefresh($event)"> <!-- Chamando a função que está no arq .ts para fazer a atualização da página. -->
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <!-- 1° Social Cards -->
  <ion-card>
    <ion-item>
      <ion-avatar item-start>
        <img src="../../assets/imgs/perfil.jpg">
      </ion-avatar>

      <!-- Para acrescentar estilo em css, basta escrevê-lo no arquivo feed.sccs e não precisa importar nenhum arquivo. -->
      <h2 class="filmes_title"> {{ objeto_filmes.titulo }} </h2>
      <!-- Em angular, {{}} significa que o que está dentro das chaves precisa ser executado, seja uma função ou variável. -->
      <p class="filmes_date"> {{ objeto_filmes.data }} </p>
    </ion-item>

    <img src="../../assets/imgs/PC.jpg">

    <ion-card-content>
      <p> {{ objeto_filmes.descricao }} </p>
    </ion-card-content>

    <ion-row>
      <ion-col>
        <button ion-button icon-left clear small>
          <ion-icon name="thumbs-up"></ion-icon>
          <div> {{ objeto_filmes.qntd_likes }} likes </div>
        </button>
      </ion-col>
      <ion-col>
        <button ion-button icon-left clear small>
          <ion-icon name="text"></ion-icon>
          <div> {{ objeto_filmes.qntd_comment }} comments </div>
        </button>
      </ion-col>
      <ion-col center text-center>
        <ion-note>
          {{ objeto_filmes.time_comment }}
        </ion-note>
      </ion-col>
    </ion-row>
  </ion-card>

  <!-- Social Cards -->
  <!-- *ngFor é um comando de repetição que altera a estrutura da página HTML (pesquisar sobre diretivas do angular) -->
  <!-- O *ngFor repete a estrutura inteira do ion-card até que a lista_filme tenha sido completamente percorrida -->
  <ion-card *ngFor="let filme of lista_filmes">
    <ion-item>
      <ion-avatar item-start>
        <img src="../../assets/imgs/perfil.jpg">
      </ion-avatar>

      <!-- Para acrescentar estilo em css, basta escrevê-lo no arquivo feed.sccs e não precisa importar nenhum arquivo. -->
      <h2 class="filmes_title"> {{ filme.original_title }} </h2>
      <!-- Dentro do pacote de dados recebidos, temos uma variavel chamada "original_title", por isso utilizamos ela para obter o nome do filme. -->
      <!-- Em angular, {{}} significa que o que está dentro das chaves precisa ser executado, seja uma função ou variável. -->
      <p class="filmes_date"> {{ filme.release_date }} </p>
      <!-- Dentro do pacote de dados recebidos, temos uma variavel chamada "release_date", por isso utilizamos ela para obter a data do filme. -->
    </ion-item>

    <!-- O caminho da imagem depende de cada provedor, no caso desse provedor ele disponibiliza o caminho no próprio site:
    https://developers.themoviedb.org/3/getting-started/images -->
    <!-- A "variável backdrop_path" tem como conteúdo o nome da imagem do filme. -->
    <img [src]="'https://image.tmdb.org/t/p/w500/' + filme.backdrop_path">

    <ion-card-content>
      <p> {{ filme.overview }} </p>
      <!-- overview armazena a descrição do filme -->
    </ion-card-content>

    <ion-row>
      <ion-col>
        <button ion-button icon-left clear small>
          <ion-icon name="thumbs-up"></ion-icon>
          <div> {{ objeto_filmes.qntd_likes }} likes </div>
        </button>
      </ion-col>
      <ion-col>
        <button ion-button icon-left clear small>
          <ion-icon name="text"></ion-icon>
          <div> {{ objeto_filmes.qntd_comment }} comments </div>
        </button>
      </ion-col>
      <ion-col center text-center>
        <ion-note>
          {{ objeto_filmes.time_comment }}
        </ion-note>
      </ion-col>
    </ion-row>

    <!-- Passando a variavel filme como parâmetro para abrir a outra página. (A página de detalhes precisa dessa variavel.) -->
    <button ion-button block (click)="abrirDetalhes(filme)"> Detalhes </button>

  </ion-card>

</ion-content>